<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Agent Signup</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://localhost:3000/CSS/signup.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <br>  
        <div class="card bg-light">
           <article class="card-body mx-auto" style="max-width: 400px;">
              <h4 class="card-title mt-3 text-center">Create Account</h4>
              <form id="create_account">
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                    </div>
                    <input name="" class="form-control" placeholder="Full name" type="text" id="name" required="required">
                </div>                                   
                 <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block"> Create Account  </button>
                 </div>
                 <!-- form-group// -->      
              </form>
           </article>
        </div>
        <!-- card.// -->
     </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="http://localhost:3000/JS/API.js"></script>
    <script src="http://localhost:3000/JS/common.js"></script>
    <script>
        const host = "http://localhost:3000/"
        $(document).on('submit', '#create_account', function(event){
            event.preventDefault();
            const data = {
                name: $("#name").val()
            }
            post_request(`${host}${API_endpoint.create_agent}`, data, account_created);
        })

        function account_created(response){
            if(response.status === 201){
                alert('Account successfuully created');
                window.location.replace(`${host}user`);
                return;
            }
            alert('Account creation failed.');
        }
    </script>
</body>
</html>